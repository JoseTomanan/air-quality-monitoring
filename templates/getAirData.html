{% extends "_base.html" %}
{% block title %}Air Quality Data{% endblock %}

{% block script %}
    <script lang="ts">
        /** script */
    </script>
{% endblock %}

{% block style %}
    <style type="text/tailwindcss">
        
    </style>
{% endblock %}

{% block body%}
    <h1>Information at Sensor # {{ device_id }}</h1>
    <span class="italic text-slate-500 mb-2">(Updated as of {{ timestamp }} UTC)</span>
    <ul class="list-inside list-disc">
        <li>Device ID:
            <span id="device_id">{{ device_id }}</span>
        </li>
        
        <li>Location name:
            <span id="location_name">{{ location_name }}</span>
        </li>

        <li>Coordinates: 
            <span id="latitude">{{ latitude }}</span>,
            <span id="longitude">{{ longitude }}</span>
        </li>
        
        <li>Gas concentration:
            <span id="gas_conc">{{ gas_conc }}</span>
        </li>
        
        <li>Particle concentration (1.0 µm):
            <span id="particle_conc"> {{pm1_0_conc}} </span>
        </li>

        <li>Particle concentration (2.5 µm):
            <span id="particle_conc"> {{pm2_5_conc}} </span>
        </li>

        <li>Particle concentration (10.0 µm):
            <span id="particle_conc"> {{pm10_0_conc}} </span>
        </li>
    </ul>

    <canvas id="dataChart" width="600" height="300"></canvas>

    <button
        id="reload"
        class="text-blue-500 hover:underline border border-blue-500 px-2 rounded"
        onClick="window.location.href=window.location.href"
    >Reload page</button>
{% endblock %}

{% block chartscript %}

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script> const dev_id = {{ device_id }} </script>
    <script src="{{ url_for('static', path='js/chartSetup.js') }}"></script>

{% endblock %}